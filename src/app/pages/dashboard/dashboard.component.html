<!-- Bouton de test temporaire -->
<div class="row test-section" style="margin-bottom: 1rem;">
  <div class="col-12">
    <nb-card>
      <nb-card-body>
        <button nbButton status="primary" (click)="refreshStats()">
          ðŸ”„ Actualiser les statistiques
        </button>
        <span *ngIf="lastUpdate" style="margin-left: 1rem; color: #8f9bb3;">
          DerniÃ¨re mise Ã  jour: {{ lastUpdate | date:'short' }}
        </span>
        <span *ngIf="error" style="margin-left: 1rem; color: #ff6b6b;">
          Erreur: {{ error }}
        </span>
      </nb-card-body>
    </nb-card>
  </div>
</div>

<!-- Statistiques principales -->
<div class="row stats-overview">
  <div class="col-lg-3 col-md-6">
    <ngx-overview-card 
      title="Total Projets" 
      [value]="statistiques?.totalProjets || 0"
      icon="folder-outline"
      color="primary"
      [isLoading]="loading">
    </ngx-overview-card>
  </div>
  <div class="col-lg-3 col-md-6">
    <ngx-overview-card 
      title="Total TÃ¢ches" 
      [value]="statistiques?.totalTaches || 0"
      icon="checkmark-square-outline"
      color="success"
      [isLoading]="loading">
    </ngx-overview-card>
  </div>
  <div class="col-lg-3 col-md-6">
    <ngx-overview-card 
      title="Total Utilisateurs" 
      [value]="statistiques?.totalUtilisateurs || 0"
      icon="people-outline"
      color="info"
      [isLoading]="loading">
    </ngx-overview-card>
  </div>
  <div class="col-lg-3 col-md-6">
    <ngx-overview-card 
      title="Total Ã‰quipes" 
      [value]="statistiques?.totalEquipes || 0"
      icon="person-outline"
      color="warning"
      [isLoading]="loading">
    </ngx-overview-card>
  </div>
</div>

<!-- Graphiques et analyses -->
<div class="row charts-section">
  <!-- RÃ©partition des tÃ¢ches par prioritÃ© -->
  <div class="col-lg-6 col-md-12">
    <ngx-task-priority-chart 
      [data]="statistiques?.tachesParPriorite"
      [isLoading]="loading">
    </ngx-task-priority-chart>
  </div>
  
  <!-- Projets crÃ©Ã©s par mois -->
  <div class="col-lg-6 col-md-12">
    <ngx-projects-trend-chart 
      [data]="statistiques?.projetsParMois"
      [isLoading]="loading">
    </ngx-projects-trend-chart>
  </div>
</div>

<!-- Planification et progression -->
<div class="row planning-section">
  <!-- Planifications rÃ©centes -->
  <div class="col-lg-8 col-md-12">
    <ngx-planning-chart 
      [data]="statistiques?.planificationsParJour"
      [isLoading]="loading">
    </ngx-planning-chart>
  </div>
  
  <!-- ActivitÃ© rÃ©cente -->
  <div class="col-lg-4 col-md-12">
    <ngx-recent-activity
      [activities]="recentActivities"
      [isLoading]="loading">
    </ngx-recent-activity>
  </div>
</div>

<!-- Ã‰quipes et Membres -->
<div class="row teams-section">
  <div class="col-12">
    <ngx-teams-overview></ngx-teams-overview>
  </div>
</div>

<!-- Progression des projets -->
<div class="row projects-progress">
  <div class="col-12">
    <ngx-projects-progress 
      [projects]="statistiques?.progressionProjets"
      [isLoading]="loading">
    </ngx-projects-progress>
  </div>
</div>

<!-- Actions rapides -->
<div class="row quick-actions">
  <div class="col-12">
    <ngx-quick-actions></ngx-quick-actions>
  </div>
</div>
